{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = onChange;\n\nvar _base = require(\"../base\");\n\nvar _InternalAnimatedValue = _interopRequireDefault(require(\"../core/InternalAnimatedValue\"));\n\nvar procOnChange = (0, _base.proc)(function (value, action, prevValue) {\n  return (0, _base.block)([(0, _base.cond)((0, _base.not)((0, _base.defined)(prevValue)), (0, _base.set)(prevValue, value)), (0, _base.cond)((0, _base.neq)(value, prevValue), [(0, _base.set)(prevValue, value), action])]);\n});\n\nfunction onChange(value, action) {\n  var prevValue = new _InternalAnimatedValue.default();\n  return procOnChange(value, action, prevValue);\n}","map":{"version":3,"sources":["onChange.js"],"names":["procOnChange","proc","block","cond","not","defined","set","neq","prevValue"],"mappings":";;;;;;;AAAA;;AACA;;AAEA,IAAMA,YAAY,GAAGC,gBAAK,UAAA,KAAA,EAAA,MAAA,EAAA,SAAA,EAAmC;AAC3D,SAAOC,iBAAM,CACXC,gBAAKC,eAAIC,mBAAL,SAAKA,CAAJD,CAALD,EAA8BG,eAAG,SAAHA,EADnB,KACmBA,CAA9BH,CADW,EAEXA,gBAAKI,eAAG,KAAHA,EAAD,SAACA,CAALJ,EAA4B,CAACG,eAAG,SAAHA,EAAD,KAACA,CAAD,EAF9B,MAE8B,CAA5BH,CAFW,CAAND,CAAP;AADF,CAAqBD,CAArB;;AAOe,SAAA,QAAA,CAAA,KAAA,EAAA,MAAA,EAAiC;AAC9C,MAAMO,SAAS,GAAG,IAAlB,8BAAkB,EAAlB;AACA,SAAOR,YAAY,CAAA,KAAA,EAAA,MAAA,EAAnB,SAAmB,CAAnB;AACD","sourcesContent":["import { block, cond, defined, neq, not, set, proc } from '../base';\nimport AnimatedValue from '../core/InternalAnimatedValue';\n\nconst procOnChange = proc(function(value, action, prevValue) {\n  return block([\n    cond(not(defined(prevValue)), set(prevValue, value)),\n    cond(neq(value, prevValue), [set(prevValue, value), action]),\n  ]);\n});\n\nexport default function onChange(value, action) {\n  const prevValue = new AnimatedValue();\n  return procOnChange(value, action, prevValue);\n}\n"]},"metadata":{},"sourceType":"script"}