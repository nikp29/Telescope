{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _Text = _interopRequireDefault(require(\"react-native-web/dist/exports/Text\"));\n\nvar _View = _interopRequireDefault(require(\"react-native-web/dist/exports/View\"));\n\nvar _StyleSheet = _interopRequireDefault(require(\"react-native-web/dist/exports/StyleSheet\"));\n\nvar _TextInput = _interopRequireDefault(require(\"react-native-web/dist/exports/TextInput\"));\n\nvar _TouchableOpacity = _interopRequireDefault(require(\"react-native-web/dist/exports/TouchableOpacity\"));\n\nvar _Image = _interopRequireDefault(require(\"react-native-web/dist/exports/Image\"));\n\nvar _KeyboardAvoidingView = _interopRequireDefault(require(\"react-native-web/dist/exports/KeyboardAvoidingView\"));\n\nvar _Keyboard = _interopRequireDefault(require(\"react-native-web/dist/exports/Keyboard\"));\n\nvar _reactNativeElements = require(\"react-native-elements\");\n\nvar _asyncStorage = _interopRequireDefault(require(\"@react-native-community/async-storage\"));\n\nvar _config = require(\"../firebase/config.js\");\n\nvar _ImagePick = _interopRequireDefault(require(\"../components/ImagePick\"));\n\nvar _InputField = _interopRequireDefault(require(\"../components/InputField\"));\n\nvar _AuthContext = require(\"../context/AuthContext\");\n\nvar _reactNativeKeyboardAwareScrollView = require(\"react-native-keyboard-aware-scroll-view\");\n\nvar _navigationRef = require(\"../navigationRef\");\n\nvar _this = this,\n    _jsxFileName = \"/Users/rithikpothuganti/Telescope-app/Telescope/src/screens/EditAccountScreen.js\";\n\nvar AccountInfo = function AccountInfo(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n\n  var _useState = (0, _react.useState)(navigation.getParam(\"bio\")),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      bio = _useState2[0],\n      setBio = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(navigation.getParam(\"name\")),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      name = _useState4[0],\n      setName = _useState4[1];\n\n  var _useState5 = (0, _react.useState)(navigation.getParam(\"tiktok\")),\n      _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n      tiktok = _useState6[0],\n      setTiktok = _useState6[1];\n\n  var _useState7 = (0, _react.useState)(navigation.getParam(\"youtube\")),\n      _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n      youtube = _useState8[0],\n      setYoutube = _useState8[1];\n\n  var _useState9 = (0, _react.useState)(navigation.getParam(\"instagram\")),\n      _useState10 = (0, _slicedToArray2.default)(_useState9, 2),\n      instagram = _useState10[0],\n      setInstagram = _useState10[1];\n\n  var _useState11 = (0, _react.useState)(navigation.getParam(\"profilePic\")),\n      _useState12 = (0, _slicedToArray2.default)(_useState11, 2),\n      profilePic = _useState12[0],\n      setProfilePic = _useState12[1];\n\n  var _useContext = (0, _react.useContext)(_AuthContext.Context),\n      signout = _useContext.signout;\n\n  return _react.default.createElement(_View.default, {\n    style: {\n      backgroundColor: \"white\",\n      height: \"100%\",\n      width: \"100%\",\n      alignItems: \"center\"\n    },\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, _react.default.createElement(_View.default, {\n    style: styles.topBar,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_TouchableOpacity.default, {\n    onPress: function onPress() {\n      navigation.goBack(null);\n      console.log(\"going back\");\n    },\n    style: styles.backContainer,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_Text.default, {\n    style: styles.uploadText,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }, \"Back\")), _react.default.createElement(_TouchableOpacity.default, {\n    style: {\n      zIndex: 2\n    },\n    onPress: signout,\n    style: styles.backContainer,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_Text.default, {\n    style: styles.uploadText,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, \"Sign Out\"))), _react.default.createElement(_reactNativeKeyboardAwareScrollView.KeyboardAwareScrollView, {\n    style: styles.container,\n    resetScrollToCoords: {\n      x: 0,\n      y: 0\n    },\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_View.default, {\n    style: {\n      alignItems: \"center\"\n    },\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_Image.default, {\n    style: {\n      width: 100,\n      height: 100,\n      borderRadius: 100\n    },\n    source: profilePic,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }), _react.default.createElement(_ImagePick.default, {\n    setURL: setProfilePic,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  })), _react.default.createElement(_InputField.default, {\n    name: \"Name\",\n    value: name,\n    setValue: setName,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }), _react.default.createElement(_InputField.default, {\n    name: \"Bio\",\n    value: bio,\n    setValue: setBio,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }), _react.default.createElement(_InputField.default, {\n    name: \"YouTube\",\n    value: youtube,\n    setValue: setYoutube,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }), _react.default.createElement(_InputField.default, {\n    name: \"Instagram\",\n    value: instagram,\n    setValue: setInstagram,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }), _react.default.createElement(_InputField.default, {\n    name: \"TikTok\",\n    value: tiktok,\n    setValue: setTiktok,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  })), _react.default.createElement(_View.default, {\n    styles: {\n      alignContent: \"center\",\n      width: \"100%\"\n    },\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_TouchableOpacity.default, {\n    onPress: function onPress() {\n      editInfo(name, bio, youtube, tiktok, instagram).then(function () {\n        console.log(\"hi\");\n      }).then(function () {\n        (0, _navigationRef.navigate)(\"ViewAccount\", {\n          bio: bio,\n          name: name,\n          profilePic: profilePic\n        });\n      });\n    },\n    style: styles.button,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_Text.default, {\n    style: styles.buttonStyle,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, \"Finish Editing\"))));\n};\n\nvar getInfo = function getInfo(setBio, setName, setProfilePic) {\n  var imageURL, uid, userRef, storageRef;\n  return _regenerator.default.async(function getInfo$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          imageURL = false;\n          _context.next = 3;\n          return _regenerator.default.awrap(_asyncStorage.default.getItem(\"token\"));\n\n        case 3:\n          uid = _context.sent;\n          userRef = _config.firebase.firestore().collection(\"users\");\n          storageRef = _config.firebase.storage().ref();\n\n          _config.firebase.firestore().collection(\"users\").doc(uid).get().then(function (doc) {\n            setBio(doc.data().bio);\n            setName(doc.data().fullName);\n            imageURL = doc.data().pic;\n          }).then(function () {\n            if (imageURL) {\n              storageRef.child(\"profile_pictures/\" + uid + \".jpg\").getDownloadURL().then(function (url) {\n                setProfilePic({\n                  uri: url\n                });\n              });\n            }\n          }).catch(function (error) {\n            console.error(\"Error fetching document: \", error);\n          });\n\n          return _context.abrupt(\"return\");\n\n        case 8:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nAccountInfo.navigationOptions = function () {\n  return {\n    header: function header() {\n      return false;\n    }\n  };\n};\n\nvar editInfo = function editInfo(name, bio, f, t, i) {\n  var uid, userDoc;\n  return _regenerator.default.async(function editInfo$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return _regenerator.default.awrap(_asyncStorage.default.getItem(\"token\"));\n\n        case 2:\n          uid = _context2.sent;\n          userDoc = _config.firebase.firestore().collection(\"users\").doc(uid);\n\n          if (!bio) {\n            _context2.next = 7;\n            break;\n          }\n\n          _context2.next = 7;\n          return _regenerator.default.awrap(userDoc.update({\n            bio: bio\n          }).catch(function (error) {\n            console.error(\"Error editing document: \", error);\n          }));\n\n        case 7:\n          if (!name) {\n            _context2.next = 11;\n            break;\n          }\n\n          console.log(\"changing name\");\n          _context2.next = 11;\n          return _regenerator.default.awrap(userDoc.update({\n            fullName: name\n          }).catch(function (error) {\n            console.error(\"Error editing document: \", error);\n          }));\n\n        case 11:\n          if (!f) {\n            _context2.next = 14;\n            break;\n          }\n\n          _context2.next = 14;\n          return _regenerator.default.awrap(userDoc.update({\n            youtube: f\n          }).catch(function (error) {\n            console.error(\"Error editing document: \", error);\n          }));\n\n        case 14:\n          if (!t) {\n            _context2.next = 17;\n            break;\n          }\n\n          _context2.next = 17;\n          return _regenerator.default.awrap(userDoc.update({\n            tiktok: t\n          }).catch(function (error) {\n            console.error(\"Error editing document: \", error);\n          }));\n\n        case 17:\n          if (!i) {\n            _context2.next = 20;\n            break;\n          }\n\n          _context2.next = 20;\n          return _regenerator.default.awrap(userDoc.update({\n            instagram: i\n          }).catch(function (error) {\n            console.error(\"Error editing document: \", error);\n          }));\n\n        case 20:\n          return _context2.abrupt(\"return\");\n\n        case 21:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nvar styles = _StyleSheet.default.create({\n  container: {\n    marginTop: 60,\n    width: \"100%\"\n  },\n  textInput: {\n    color: \"black\"\n  },\n  buttonStyle: {\n    color: \"white\",\n    fontFamily: \"Raleway-SemiBold\",\n    fontSize: 18\n  },\n  button: {\n    width: 150,\n    backgroundColor: \"#5C33FF\",\n    padding: 16,\n    borderRadius: 25,\n    marginTop: 16,\n    alignItems: \"center\"\n  },\n  backContainer: {\n    padding: 8,\n    marginLeft: 8\n  },\n  uploadText: {\n    color: \"#5C33FF\",\n    fontFamily: \"Raleway-Bold\",\n    fontSize: 18\n  },\n  topBar: {\n    position: \"absolute\",\n    top: 0,\n    paddingTop: 45,\n    backgroundColor: \"white\",\n    left: 0,\n    width: \"100%\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\"\n  }\n});\n\nvar _default = AccountInfo;\nexports.default = _default;","map":{"version":3,"sources":["/Users/rithikpothuganti/Telescope-app/Telescope/src/screens/EditAccountScreen.js"],"names":["AccountInfo","route","navigation","getParam","bio","setBio","name","setName","tiktok","setTiktok","youtube","setYoutube","instagram","setInstagram","profilePic","setProfilePic","AuthContext","signout","backgroundColor","height","width","alignItems","styles","topBar","goBack","console","log","backContainer","uploadText","zIndex","container","x","y","borderRadius","alignContent","editInfo","then","button","buttonStyle","getInfo","imageURL","AsyncStorage","getItem","uid","userRef","firebase","firestore","collection","storageRef","storage","ref","doc","get","data","fullName","pic","child","getDownloadURL","url","uri","catch","error","navigationOptions","header","f","t","i","userDoc","update","StyleSheet","create","marginTop","textInput","color","fontFamily","fontSize","padding","marginLeft","position","top","paddingTop","left","flexDirection","justifyContent"],"mappings":";;;;;;;;;;;;;AAAA;;;;;;;;;;;;;;;;;;AAWA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;AAEA,IAAMA,WAAW,GAAG,SAAdA,WAAc,OAA2B;AAAA,MAAxBC,KAAwB,QAAxBA,KAAwB;AAAA,MAAjBC,UAAiB,QAAjBA,UAAiB;;AAAA,kBACvB,qBAASA,UAAU,CAACC,QAAX,CAAoB,KAApB,CAAT,CADuB;AAAA;AAAA,MACtCC,GADsC;AAAA,MACjCC,MADiC;;AAAA,mBAErB,qBAASH,UAAU,CAACC,QAAX,CAAoB,MAApB,CAAT,CAFqB;AAAA;AAAA,MAEtCG,IAFsC;AAAA,MAEhCC,OAFgC;;AAAA,mBAGjB,qBAASL,UAAU,CAACC,QAAX,CAAoB,QAApB,CAAT,CAHiB;AAAA;AAAA,MAGtCK,MAHsC;AAAA,MAG9BC,SAH8B;;AAAA,mBAIf,qBAASP,UAAU,CAACC,QAAX,CAAoB,SAApB,CAAT,CAJe;AAAA;AAAA,MAItCO,OAJsC;AAAA,MAI7BC,UAJ6B;;AAAA,mBAKX,qBAAST,UAAU,CAACC,QAAX,CAAoB,WAApB,CAAT,CALW;AAAA;AAAA,MAKtCS,SALsC;AAAA,MAK3BC,YAL2B;;AAAA,oBAMT,qBAClCX,UAAU,CAACC,QAAX,CAAoB,YAApB,CADkC,CANS;AAAA;AAAA,MAMtCW,UANsC;AAAA,MAM1BC,aAN0B;;AAAA,oBASzB,uBAAWC,oBAAX,CATyB;AAAA,MASrCC,OATqC,eASrCA,OATqC;;AAW7C,SACE,6BAAC,aAAD;AACE,IAAA,KAAK,EAAE;AACLC,MAAAA,eAAe,EAAE,OADZ;AAELC,MAAAA,MAAM,EAAE,MAFH;AAGLC,MAAAA,KAAK,EAAE,MAHF;AAILC,MAAAA,UAAU,EAAE;AAJP,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQE,6BAAC,aAAD;AAAM,IAAA,KAAK,EAAEC,MAAM,CAACC,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,6BAAC,yBAAD;AAEE,IAAA,OAAO,EAAE,mBAAM;AACbrB,MAAAA,UAAU,CAACsB,MAAX,CAAkB,IAAlB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACD,KALH;AAME,IAAA,KAAK,EAAEJ,MAAM,CAACK,aANhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQE,6BAAC,aAAD;AAAM,IAAA,KAAK,EAAEL,MAAM,CAACM,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YARF,CADF,EAWE,6BAAC,yBAAD;AACE,IAAA,KAAK,EAAE;AAAEC,MAAAA,MAAM,EAAE;AAAV,KADT;AAEE,IAAA,OAAO,EAAEZ,OAFX;AAGE,IAAA,KAAK,EAAEK,MAAM,CAACK,aAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE,6BAAC,aAAD;AAAM,IAAA,KAAK,EAAEL,MAAM,CAACM,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,CAXF,CARF,EA2BE,6BAAC,2DAAD;AACE,IAAA,KAAK,EAAEN,MAAM,CAACQ,SADhB;AAEE,IAAA,mBAAmB,EAAE;AAAEC,MAAAA,CAAC,EAAE,CAAL;AAAQC,MAAAA,CAAC,EAAE;AAAX,KAFvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE,6BAAC,aAAD;AAAM,IAAA,KAAK,EAAE;AAAEX,MAAAA,UAAU,EAAE;AAAd,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,6BAAC,cAAD;AACE,IAAA,KAAK,EAAE;AAAED,MAAAA,KAAK,EAAE,GAAT;AAAcD,MAAAA,MAAM,EAAE,GAAtB;AAA2Bc,MAAAA,YAAY,EAAE;AAAzC,KADT;AAEE,IAAA,MAAM,EAAEnB,UAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAKE,6BAAC,kBAAD;AAAW,IAAA,MAAM,EAAEC,aAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CAJF,EAWE,6BAAC,mBAAD;AAAY,IAAA,IAAI,EAAC,MAAjB;AAAwB,IAAA,KAAK,EAAET,IAA/B;AAAqC,IAAA,QAAQ,EAAEC,OAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,EAYE,6BAAC,mBAAD;AAAY,IAAA,IAAI,EAAC,KAAjB;AAAuB,IAAA,KAAK,EAAEH,GAA9B;AAAmC,IAAA,QAAQ,EAAEC,MAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZF,EAaE,6BAAC,mBAAD;AAAY,IAAA,IAAI,EAAC,SAAjB;AAA2B,IAAA,KAAK,EAAEK,OAAlC;AAA2C,IAAA,QAAQ,EAAEC,UAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbF,EAcE,6BAAC,mBAAD;AACE,IAAA,IAAI,EAAC,WADP;AAEE,IAAA,KAAK,EAAEC,SAFT;AAGE,IAAA,QAAQ,EAAEC,YAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAdF,EAmBE,6BAAC,mBAAD;AAAY,IAAA,IAAI,EAAC,QAAjB;AAA0B,IAAA,KAAK,EAAEL,MAAjC;AAAyC,IAAA,QAAQ,EAAEC,SAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAnBF,CA3BF,EAgDE,6BAAC,aAAD;AAAM,IAAA,MAAM,EAAE;AAAEyB,MAAAA,YAAY,EAAE,QAAhB;AAA0Bd,MAAAA,KAAK,EAAE;AAAjC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,6BAAC,yBAAD;AACE,IAAA,OAAO,EAAE,mBAAM;AACbe,MAAAA,QAAQ,CAAC7B,IAAD,EAAOF,GAAP,EAAYM,OAAZ,EAAqBF,MAArB,EAA6BI,SAA7B,CAAR,CACGwB,IADH,CACQ,YAAM;AACVX,QAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACD,OAHH,EAIGU,IAJH,CAIQ,YAAM;AACV,qCAAS,aAAT,EAAwB;AACtBhC,UAAAA,GAAG,EAAEA,GADiB;AAEtBE,UAAAA,IAAI,EAAEA,IAFgB;AAGtBQ,UAAAA,UAAU,EAAEA;AAHU,SAAxB;AAKD,OAVH;AAWD,KAbH;AAcE,IAAA,KAAK,EAAEQ,MAAM,CAACe,MAdhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAgBE,6BAAC,aAAD;AAAM,IAAA,KAAK,EAAEf,MAAM,CAACgB,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAhBF,CADF,CAhDF,CADF;AAuED,CAlFD;;AAoFA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAAOlC,MAAP,EAAeE,OAAf,EAAwBQ,aAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AACVyB,UAAAA,QADU,GACC,KADD;AAAA;AAAA,4CAEIC,sBAAaC,OAAb,CAAqB,OAArB,CAFJ;;AAAA;AAERC,UAAAA,GAFQ;AAGRC,UAAAA,OAHQ,GAGEC,iBAASC,SAAT,GAAqBC,UAArB,CAAgC,OAAhC,CAHF;AAIVC,UAAAA,UAJU,GAIGH,iBAASI,OAAT,GAAmBC,GAAnB,EAJH;;AAMdL,2BACGC,SADH,GAEGC,UAFH,CAEc,OAFd,EAGGI,GAHH,CAGOR,GAHP,EAIGS,GAJH,GAKGhB,IALH,CAKQ,UAACe,GAAD,EAAS;AACb9C,YAAAA,MAAM,CAAC8C,GAAG,CAACE,IAAJ,GAAWjD,GAAZ,CAAN;AACAG,YAAAA,OAAO,CAAC4C,GAAG,CAACE,IAAJ,GAAWC,QAAZ,CAAP;AACAd,YAAAA,QAAQ,GAAGW,GAAG,CAACE,IAAJ,GAAWE,GAAtB;AACD,WATH,EAUGnB,IAVH,CAUQ,YAAM;AACV,gBAAII,QAAJ,EAAc;AACZQ,cAAAA,UAAU,CACPQ,KADH,CACS,sBAAsBb,GAAtB,GAA4B,MADrC,EAEGc,cAFH,GAGGrB,IAHH,CAGQ,UAACsB,GAAD,EAAS;AACb3C,gBAAAA,aAAa,CAAC;AAAE4C,kBAAAA,GAAG,EAAED;AAAP,iBAAD,CAAb;AACD,eALH;AAMD;AACF,WAnBH,EAoBGE,KApBH,CAoBS,UAACC,KAAD,EAAW;AAChBpC,YAAAA,OAAO,CAACoC,KAAR,CAAc,2BAAd,EAA2CA,KAA3C;AACD,WAtBH;;AANc;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAhB;;AAiCA7D,WAAW,CAAC8D,iBAAZ,GAAgC,YAAM;AACpC,SAAO;AACLC,IAAAA,MAAM,EAAE;AAAA,aAAM,KAAN;AAAA;AADH,GAAP;AAGD,CAJD;;AAMA,IAAM5B,QAAQ,GAAG,SAAXA,QAAW,CAAO7B,IAAP,EAAaF,GAAb,EAAkB4D,CAAlB,EAAqBC,CAArB,EAAwBC,CAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CACGzB,sBAAaC,OAAb,CAAqB,OAArB,CADH;;AAAA;AACTC,UAAAA,GADS;AAGTwB,UAAAA,OAHS,GAGCtB,iBAASC,SAAT,GAAqBC,UAArB,CAAgC,OAAhC,EAAyCI,GAAzC,CAA6CR,GAA7C,CAHD;;AAAA,eAIXvC,GAJW;AAAA;AAAA;AAAA;;AAAA;AAAA,4CAKP+D,OAAO,CACVC,MADG,CACI;AACNhE,YAAAA,GAAG,EAAEA;AADC,WADJ,EAIHwD,KAJG,CAIG,UAACC,KAAD,EAAW;AAChBpC,YAAAA,OAAO,CAACoC,KAAR,CAAc,0BAAd,EAA0CA,KAA1C;AACD,WANG,CALO;;AAAA;AAAA,eAYXvD,IAZW;AAAA;AAAA;AAAA;;AAabmB,UAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AAba;AAAA,4CAcPyC,OAAO,CACVC,MADG,CACI;AACNd,YAAAA,QAAQ,EAAEhD;AADJ,WADJ,EAIHsD,KAJG,CAIG,UAACC,KAAD,EAAW;AAChBpC,YAAAA,OAAO,CAACoC,KAAR,CAAc,0BAAd,EAA0CA,KAA1C;AACD,WANG,CAdO;;AAAA;AAAA,eAsBXG,CAtBW;AAAA;AAAA;AAAA;;AAAA;AAAA,4CAuBPG,OAAO,CACVC,MADG,CACI;AACN1D,YAAAA,OAAO,EAAEsD;AADH,WADJ,EAIHJ,KAJG,CAIG,UAACC,KAAD,EAAW;AAChBpC,YAAAA,OAAO,CAACoC,KAAR,CAAc,0BAAd,EAA0CA,KAA1C;AACD,WANG,CAvBO;;AAAA;AAAA,eA8BXI,CA9BW;AAAA;AAAA;AAAA;;AAAA;AAAA,4CA+BPE,OAAO,CACVC,MADG,CACI;AACN5D,YAAAA,MAAM,EAAEyD;AADF,WADJ,EAIHL,KAJG,CAIG,UAACC,KAAD,EAAW;AAChBpC,YAAAA,OAAO,CAACoC,KAAR,CAAc,0BAAd,EAA0CA,KAA1C;AACD,WANG,CA/BO;;AAAA;AAAA,eAsCXK,CAtCW;AAAA;AAAA;AAAA;;AAAA;AAAA,4CAuCPC,OAAO,CACVC,MADG,CACI;AACNxD,YAAAA,SAAS,EAAEsD;AADL,WADJ,EAIHN,KAJG,CAIG,UAACC,KAAD,EAAW;AAChBpC,YAAAA,OAAO,CAACoC,KAAR,CAAc,0BAAd,EAA0CA,KAA1C;AACD,WANG,CAvCO;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAjB;;AAkDA,IAAMvC,MAAM,GAAG+C,oBAAWC,MAAX,CAAkB;AAC/BxC,EAAAA,SAAS,EAAE;AACTyC,IAAAA,SAAS,EAAE,EADF;AAETnD,IAAAA,KAAK,EAAE;AAFE,GADoB;AAQ/BoD,EAAAA,SAAS,EAAE;AACTC,IAAAA,KAAK,EAAE;AADE,GARoB;AAW/BnC,EAAAA,WAAW,EAAE;AACXmC,IAAAA,KAAK,EAAE,OADI;AAEXC,IAAAA,UAAU,EAAE,kBAFD;AAGXC,IAAAA,QAAQ,EAAE;AAHC,GAXkB;AAgB/BtC,EAAAA,MAAM,EAAE;AACNjB,IAAAA,KAAK,EAAE,GADD;AAENF,IAAAA,eAAe,EAAE,SAFX;AAGN0D,IAAAA,OAAO,EAAE,EAHH;AAIN3C,IAAAA,YAAY,EAAE,EAJR;AAKNsC,IAAAA,SAAS,EAAE,EALL;AAMNlD,IAAAA,UAAU,EAAE;AANN,GAhBuB;AAwB/BM,EAAAA,aAAa,EAAE;AACbiD,IAAAA,OAAO,EAAE,CADI;AAEbC,IAAAA,UAAU,EAAE;AAFC,GAxBgB;AA6B/BjD,EAAAA,UAAU,EAAE;AACV6C,IAAAA,KAAK,EAAE,SADG;AAEVC,IAAAA,UAAU,EAAE,cAFF;AAGVC,IAAAA,QAAQ,EAAE;AAHA,GA7BmB;AAkC/BpD,EAAAA,MAAM,EAAE;AACNuD,IAAAA,QAAQ,EAAE,UADJ;AAENC,IAAAA,GAAG,EAAE,CAFC;AAGNC,IAAAA,UAAU,EAAE,EAHN;AAIN9D,IAAAA,eAAe,EAAE,OAJX;AAKN+D,IAAAA,IAAI,EAAE,CALA;AAMN7D,IAAAA,KAAK,EAAE,MAND;AAON8D,IAAAA,aAAa,EAAE,KAPT;AAQNC,IAAAA,cAAc,EAAE;AARV;AAlCuB,CAAlB,CAAf;;eA8CenF,W","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport {\n  Text,\n  View,\n  StyleSheet,\n  TextInput,\n  TouchableOpacity,\n  Image,\n  KeyboardAvoidingView,\n  Keyboard,\n} from \"react-native\";\nimport { Button, Input } from \"react-native-elements\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport { firebase } from \"../firebase/config.js\";\nimport ImagePick from \"../components/ImagePick\";\nimport InputField from \"../components/InputField\";\nimport { Context as AuthContext } from \"../context/AuthContext\";\nimport { KeyboardAwareScrollView } from \"react-native-keyboard-aware-scroll-view\";\nimport { navigate } from \"../navigationRef\";\n\nconst AccountInfo = ({ route, navigation }) => {\n  const [bio, setBio] = useState(navigation.getParam(\"bio\"));\n  const [name, setName] = useState(navigation.getParam(\"name\"));\n  const [tiktok, setTiktok] = useState(navigation.getParam(\"tiktok\"));\n  const [youtube, setYoutube] = useState(navigation.getParam(\"youtube\"));\n  const [instagram, setInstagram] = useState(navigation.getParam(\"instagram\"));\n  const [profilePic, setProfilePic] = useState(\n    navigation.getParam(\"profilePic\")\n  );\n  const { signout } = useContext(AuthContext);\n\n  return (\n    <View\n      style={{\n        backgroundColor: \"white\",\n        height: \"100%\",\n        width: \"100%\",\n        alignItems: \"center\",\n      }}\n    >\n      <View style={styles.topBar}>\n        <TouchableOpacity\n          // style={{ zIndex: 2 }}\n          onPress={() => {\n            navigation.goBack(null);\n            console.log(\"going back\");\n          }}\n          style={styles.backContainer}\n        >\n          <Text style={styles.uploadText}>Back</Text>\n        </TouchableOpacity>\n        <TouchableOpacity\n          style={{ zIndex: 2 }}\n          onPress={signout}\n          style={styles.backContainer}\n        >\n          <Text style={styles.uploadText}>Sign Out</Text>\n        </TouchableOpacity>\n      </View>\n      <KeyboardAwareScrollView\n        style={styles.container}\n        resetScrollToCoords={{ x: 0, y: 0 }}\n      >\n        <View style={{ alignItems: \"center\" }}>\n          <Image\n            style={{ width: 100, height: 100, borderRadius: 100 }}\n            source={profilePic}\n          />\n          <ImagePick setURL={setProfilePic} />\n        </View>\n        <InputField name=\"Name\" value={name} setValue={setName} />\n        <InputField name=\"Bio\" value={bio} setValue={setBio} />\n        <InputField name=\"YouTube\" value={youtube} setValue={setYoutube} />\n        <InputField\n          name=\"Instagram\"\n          value={instagram}\n          setValue={setInstagram}\n        />\n        <InputField name=\"TikTok\" value={tiktok} setValue={setTiktok} />\n      </KeyboardAwareScrollView>\n      <View styles={{ alignContent: \"center\", width: \"100%\" }}>\n        <TouchableOpacity\n          onPress={() => {\n            editInfo(name, bio, youtube, tiktok, instagram)\n              .then(() => {\n                console.log(\"hi\");\n              })\n              .then(() => {\n                navigate(\"ViewAccount\", {\n                  bio: bio,\n                  name: name,\n                  profilePic: profilePic,\n                });\n              });\n          }}\n          style={styles.button}\n        >\n          <Text style={styles.buttonStyle}>Finish Editing</Text>\n        </TouchableOpacity>\n      </View>\n    </View>\n  );\n};\n\nconst getInfo = async (setBio, setName, setProfilePic) => {\n  var imageURL = false;\n  const uid = await AsyncStorage.getItem(\"token\");\n  const userRef = firebase.firestore().collection(\"users\");\n  var storageRef = firebase.storage().ref();\n\n  firebase\n    .firestore()\n    .collection(\"users\")\n    .doc(uid)\n    .get()\n    .then((doc) => {\n      setBio(doc.data().bio);\n      setName(doc.data().fullName);\n      imageURL = doc.data().pic;\n    })\n    .then(() => {\n      if (imageURL) {\n        storageRef\n          .child(\"profile_pictures/\" + uid + \".jpg\")\n          .getDownloadURL()\n          .then((url) => {\n            setProfilePic({ uri: url });\n          });\n      }\n    })\n    .catch((error) => {\n      console.error(\"Error fetching document: \", error);\n    });\n\n  return;\n};\n\nAccountInfo.navigationOptions = () => {\n  return {\n    header: () => false,\n  };\n};\n\nconst editInfo = async (name, bio, f, t, i) => {\n  const uid = await AsyncStorage.getItem(\"token\");\n  // const userRef = firebase.firestore().collection(\"users\");\n  const userDoc = firebase.firestore().collection(\"users\").doc(uid);\n  if (bio)\n    await userDoc\n      .update({\n        bio: bio,\n      })\n      .catch((error) => {\n        console.error(\"Error editing document: \", error);\n      });\n  if (name){\n    console.log(\"changing name\");\n    await userDoc\n      .update({\n        fullName: name,\n      })\n      .catch((error) => {\n        console.error(\"Error editing document: \", error);\n      });\n    }\n  if (f)\n    await userDoc\n      .update({\n        youtube: f,\n      })\n      .catch((error) => {\n        console.error(\"Error editing document: \", error);\n      });\n  if (t)\n    await userDoc\n      .update({\n        tiktok: t,\n      })\n      .catch((error) => {\n        console.error(\"Error editing document: \", error);\n      });\n  if (i)\n    await userDoc\n      .update({\n        instagram: i,\n      })\n      .catch((error) => {\n        console.error(\"Error editing document: \", error);\n      });\n\n  return;\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    marginTop: 60,\n    width: \"100%\",\n    // backgroundColor: \"white\",\n    // alignItems: \"center\",\n    // width: \"100%\"\n  },\n  textInput: {\n    color: \"black\",\n  },\n  buttonStyle: {\n    color: \"white\",\n    fontFamily: \"Raleway-SemiBold\",\n    fontSize: 18,\n  },\n  button: {\n    width: 150,\n    backgroundColor: \"#5C33FF\",\n    padding: 16,\n    borderRadius: 25,\n    marginTop: 16,\n    alignItems: \"center\",\n  },\n  backContainer: {\n    padding: 8,\n    marginLeft: 8,\n    // backgroundColor: \"orange\"\n  },\n  uploadText: {\n    color: \"#5C33FF\",\n    fontFamily: \"Raleway-Bold\",\n    fontSize: 18,\n  },\n  topBar: {\n    position: \"absolute\",\n    top: 0,\n    paddingTop: 45,\n    backgroundColor: \"white\",\n    left: 0,\n    width: \"100%\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n  },\n});\n\nexport default AccountInfo;\n"]},"metadata":{},"sourceType":"script"}