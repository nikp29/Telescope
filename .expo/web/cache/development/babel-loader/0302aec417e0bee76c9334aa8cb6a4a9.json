{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _View = _interopRequireDefault(require(\"react-native-web/dist/exports/View\"));\n\nvar _index = require(\"react-native-web/dist/index\");\n\nvar _Image = _interopRequireDefault(require(\"react-native-web/dist/exports/Image\"));\n\nvar _Animated = _interopRequireDefault(require(\"react-native-web/dist/exports/Animated\"));\n\nvar _Easing = _interopRequireDefault(require(\"react-native-web/dist/exports/Easing\"));\n\nvar _ActivityIndicator = _interopRequireDefault(require(\"react-native-web/dist/exports/ActivityIndicator\"));\n\nvar _findNodeHandle = _interopRequireDefault(require(\"react-native-web/dist/exports/findNodeHandle\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _ParallaxImage = _interopRequireDefault(require(\"./ParallaxImage.style\"));\n\nvar _jsxFileName = \"/Users/rithikpothuganti/Telescope-app/Telescope/node_modules/react-native-snap-carousel/src/parallaximage/ParallaxImage.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar ParallaxImage = function (_Component) {\n  (0, _inherits2.default)(ParallaxImage, _Component);\n\n  var _super = _createSuper(ParallaxImage);\n\n  function ParallaxImage(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, ParallaxImage);\n    _this = _super.call(this, props);\n    _this.state = {\n      offset: 0,\n      width: 0,\n      height: 0,\n      status: 1,\n      animOpacity: new _Animated.default.Value(0)\n    };\n    _this._onLoad = _this._onLoad.bind((0, _assertThisInitialized2.default)(_this));\n    _this._onError = _this._onError.bind((0, _assertThisInitialized2.default)(_this));\n    _this._measureLayout = _this._measureLayout.bind((0, _assertThisInitialized2.default)(_this));\n    return _this;\n  }\n\n  (0, _createClass2.default)(ParallaxImage, [{\n    key: \"setNativeProps\",\n    value: function setNativeProps(nativeProps) {\n      this._container.setNativeProps(nativeProps);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this._mounted = true;\n      setTimeout(function () {\n        _this2._measureLayout();\n      }, 0);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._mounted = false;\n    }\n  }, {\n    key: \"_measureLayout\",\n    value: function _measureLayout() {\n      var _this3 = this;\n\n      if (this._container) {\n        var _this$props = this.props,\n            dimensions = _this$props.dimensions,\n            vertical = _this$props.vertical,\n            carouselRef = _this$props.carouselRef,\n            sliderWidth = _this$props.sliderWidth,\n            sliderHeight = _this$props.sliderHeight,\n            itemWidth = _this$props.itemWidth,\n            itemHeight = _this$props.itemHeight;\n\n        if (carouselRef) {\n          this._container.measureLayout((0, _findNodeHandle.default)(carouselRef), function (x, y, width, height, pageX, pageY) {\n            var offset = vertical ? y - (sliderHeight - itemHeight) / 2 : x - (sliderWidth - itemWidth) / 2;\n\n            _this3.setState({\n              offset: offset,\n              width: dimensions && dimensions.width ? dimensions.width : Math.ceil(width),\n              height: dimensions && dimensions.height ? dimensions.height : Math.ceil(height)\n            });\n          });\n        }\n      }\n    }\n  }, {\n    key: \"_onLoad\",\n    value: function _onLoad(event) {\n      var _this4 = this;\n\n      var animOpacity = this.state.animOpacity;\n      var _this$props2 = this.props,\n          fadeDuration = _this$props2.fadeDuration,\n          onLoad = _this$props2.onLoad;\n\n      if (!this._mounted) {\n        return;\n      }\n\n      this.setState({\n        status: 2\n      });\n\n      if (onLoad) {\n        onLoad(event);\n      }\n\n      _Animated.default.timing(animOpacity, {\n        toValue: 1,\n        duration: fadeDuration,\n        easing: _Easing.default.out(_Easing.default.quad),\n        isInteraction: false,\n        useNativeDriver: true\n      }).start(function () {\n        _this4.setState({\n          status: 3\n        });\n      });\n    }\n  }, {\n    key: \"_onError\",\n    value: function _onError(event) {\n      var onError = this.props.onError;\n      this.setState({\n        status: 4\n      });\n\n      if (onError) {\n        onError(event);\n      }\n    }\n  }, {\n    key: \"image\",\n    get: function get() {\n      var _this$state = this.state,\n          status = _this$state.status,\n          animOpacity = _this$state.animOpacity,\n          offset = _this$state.offset,\n          width = _this$state.width,\n          height = _this$state.height;\n      var _this$props3 = this.props,\n          scrollPosition = _this$props3.scrollPosition,\n          dimensions = _this$props3.dimensions,\n          vertical = _this$props3.vertical,\n          sliderWidth = _this$props3.sliderWidth,\n          sliderHeight = _this$props3.sliderHeight,\n          parallaxFactor = _this$props3.parallaxFactor,\n          style = _this$props3.style,\n          AnimatedImageComponent = _this$props3.AnimatedImageComponent,\n          other = (0, _objectWithoutProperties2.default)(_this$props3, [\"scrollPosition\", \"dimensions\", \"vertical\", \"sliderWidth\", \"sliderHeight\", \"parallaxFactor\", \"style\", \"AnimatedImageComponent\"]);\n      var parallaxPadding = (vertical ? height : width) * parallaxFactor;\n      var requiredStyles = {\n        position: 'relative'\n      };\n      var dynamicStyles = {\n        width: vertical ? width : width + parallaxPadding * 2,\n        height: vertical ? height + parallaxPadding * 2 : height,\n        opacity: animOpacity,\n        transform: scrollPosition ? [{\n          translateX: !vertical ? scrollPosition.interpolate({\n            inputRange: [offset - sliderWidth, offset + sliderWidth],\n            outputRange: [-parallaxPadding, parallaxPadding],\n            extrapolate: 'clamp'\n          }) : 0\n        }, {\n          translateY: vertical ? scrollPosition.interpolate({\n            inputRange: [offset - sliderHeight, offset + sliderHeight],\n            outputRange: [-parallaxPadding, parallaxPadding],\n            extrapolate: 'clamp'\n          }) : 0\n        }] : []\n      };\n      return _react.default.createElement(AnimatedImageComponent, (0, _extends2.default)({}, other, {\n        style: [_ParallaxImage.default.image, style, requiredStyles, dynamicStyles],\n        onLoad: this._onLoad,\n        onError: status !== 3 ? this._onError : undefined,\n        __self: this,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }\n      }));\n    }\n  }, {\n    key: \"spinner\",\n    get: function get() {\n      var status = this.state.status;\n      var _this$props4 = this.props,\n          showSpinner = _this$props4.showSpinner,\n          spinnerColor = _this$props4.spinnerColor;\n      return status === 1 && showSpinner ? _react.default.createElement(_View.default, {\n        style: _ParallaxImage.default.loaderContainer,\n        __self: this,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_ActivityIndicator.default, {\n        size: 'small',\n        color: spinnerColor,\n        animating: true,\n        __self: this,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 17\n        }\n      })) : false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var containerStyle = this.props.containerStyle;\n      return _react.default.createElement(_View.default, {\n        ref: function ref(c) {\n          _this5._container = c;\n        },\n        pointerEvents: 'none',\n        style: [containerStyle, _ParallaxImage.default.container],\n        onLayout: this._measureLayout,\n        __self: this,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }\n      }, this.image, this.spinner);\n    }\n  }]);\n  return ParallaxImage;\n}(_react.Component);\n\nexports.default = ParallaxImage;\nParallaxImage.propTypes = _objectSpread(_objectSpread({}, _Image.default.propTypes), {}, {\n  carouselRef: _propTypes.default.object,\n  itemHeight: _propTypes.default.number,\n  itemWidth: _propTypes.default.number,\n  scrollPosition: _propTypes.default.object,\n  sliderHeight: _propTypes.default.number,\n  sliderWidth: _propTypes.default.number,\n  vertical: _propTypes.default.bool,\n  containerStyle: _index.ViewPropTypes ? _index.ViewPropTypes.style : _View.default.propTypes.style,\n  dimensions: _propTypes.default.shape({\n    width: _propTypes.default.number,\n    height: _propTypes.default.number\n  }),\n  fadeDuration: _propTypes.default.number,\n  parallaxFactor: _propTypes.default.number,\n  showSpinner: _propTypes.default.bool,\n  spinnerColor: _propTypes.default.string,\n  AnimatedImageComponent: _propTypes.default.oneOfType([_propTypes.default.func, _propTypes.default.object])\n});\nParallaxImage.defaultProps = {\n  containerStyle: {},\n  fadeDuration: 500,\n  parallaxFactor: 0.3,\n  showSpinner: true,\n  spinnerColor: 'rgba(0, 0, 0, 0.4)',\n  AnimatedImageComponent: _Animated.default.Image\n};","map":{"version":3,"sources":["/Users/rithikpothuganti/Telescope-app/Telescope/node_modules/react-native-snap-carousel/src/parallaximage/ParallaxImage.js"],"names":["ParallaxImage","props","state","offset","width","height","status","animOpacity","Animated","Value","_onLoad","bind","_onError","_measureLayout","nativeProps","_container","setNativeProps","_mounted","setTimeout","dimensions","vertical","carouselRef","sliderWidth","sliderHeight","itemWidth","itemHeight","measureLayout","x","y","pageX","pageY","setState","Math","ceil","event","fadeDuration","onLoad","timing","toValue","duration","easing","Easing","out","quad","isInteraction","useNativeDriver","start","onError","scrollPosition","parallaxFactor","style","AnimatedImageComponent","other","parallaxPadding","requiredStyles","position","dynamicStyles","opacity","transform","translateX","interpolate","inputRange","outputRange","extrapolate","translateY","styles","image","undefined","showSpinner","spinnerColor","loaderContainer","containerStyle","c","container","spinner","Component","propTypes","Image","PropTypes","object","number","bool","ViewPropTypes","View","shape","string","oneOfType","func","defaultProps"],"mappings":"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","sourcesContent":["// Parallax effect inspired by https://github.com/oblador/react-native-parallax/\n\nimport React, { Component } from 'react';\nimport { View, ViewPropTypes, Image, Animated, Easing, ActivityIndicator, findNodeHandle } from 'react-native';\nimport PropTypes from 'prop-types';\nimport styles from './ParallaxImage.style';\n\nexport default class ParallaxImage extends Component {\n\n    static propTypes = {\n        ...Image.propTypes,\n        carouselRef: PropTypes.object, // passed from <Carousel />\n        itemHeight: PropTypes.number, // passed from <Carousel />\n        itemWidth: PropTypes.number, // passed from <Carousel />\n        scrollPosition: PropTypes.object, // passed from <Carousel />\n        sliderHeight: PropTypes.number, // passed from <Carousel />\n        sliderWidth: PropTypes.number, // passed from <Carousel />\n        vertical: PropTypes.bool, // passed from <Carousel />\n        containerStyle: ViewPropTypes ? ViewPropTypes.style : View.propTypes.style,\n        dimensions: PropTypes.shape({\n            width: PropTypes.number,\n            height: PropTypes.number\n        }),\n        fadeDuration: PropTypes.number,\n        parallaxFactor: PropTypes.number,\n        showSpinner: PropTypes.bool,\n        spinnerColor: PropTypes.string,\n        AnimatedImageComponent: PropTypes.oneOfType([\n            PropTypes.func,\n            PropTypes.object\n        ])\n    };\n\n    static defaultProps = {\n        containerStyle: {},\n        fadeDuration: 500,\n        parallaxFactor: 0.3,\n        showSpinner: true,\n        spinnerColor: 'rgba(0, 0, 0, 0.4)',\n        AnimatedImageComponent: Animated.Image\n    }\n\n    constructor (props) {\n        super(props);\n        this.state = {\n            offset: 0,\n            width: 0,\n            height: 0,\n            status: 1, // 1 -> loading; 2 -> loaded // 3 -> transition finished; 4 -> error\n            animOpacity: new Animated.Value(0)\n        };\n        this._onLoad = this._onLoad.bind(this);\n        this._onError = this._onError.bind(this);\n        this._measureLayout = this._measureLayout.bind(this);\n    }\n\n    setNativeProps (nativeProps) {\n        this._container.setNativeProps(nativeProps);\n    }\n\n    componentDidMount () {\n        this._mounted = true;\n\n        setTimeout(() => {\n            this._measureLayout();\n        }, 0);\n    }\n\n    componentWillUnmount () {\n        this._mounted = false;\n    }\n\n    _measureLayout () {\n        if (this._container) {\n            const {\n                dimensions,\n                vertical,\n                carouselRef,\n                sliderWidth,\n                sliderHeight,\n                itemWidth,\n                itemHeight\n            } = this.props;\n\n            if (carouselRef) {\n                this._container.measureLayout(\n                    findNodeHandle(carouselRef),\n                    (x, y, width, height, pageX, pageY) => {\n                        const offset = vertical ?\n                            y - ((sliderHeight - itemHeight) / 2) :\n                            x - ((sliderWidth - itemWidth) / 2);\n\n                        this.setState({\n                            offset: offset,\n                            width: dimensions && dimensions.width ?\n                                dimensions.width :\n                                Math.ceil(width),\n                            height: dimensions && dimensions.height ?\n                                dimensions.height :\n                                Math.ceil(height)\n                        });\n                    }\n                );\n            }\n        }\n    }\n\n    _onLoad (event) {\n        const { animOpacity } = this.state;\n        const { fadeDuration, onLoad } = this.props;\n\n        if (!this._mounted) {\n            return;\n        }\n\n        this.setState({ status: 2 });\n\n        if (onLoad) {\n            onLoad(event);\n        }\n\n        Animated.timing(animOpacity, {\n            toValue: 1,\n            duration: fadeDuration,\n            easing: Easing.out(Easing.quad),\n            isInteraction: false,\n            useNativeDriver: true\n        }).start(() => {\n            this.setState({ status: 3 });\n        });\n    }\n\n    // If arg is missing from method signature, it just won't be called\n    _onError (event) {\n        const { onError } = this.props;\n\n        this.setState({ status: 4 });\n\n        if (onError) {\n            onError(event);\n        }\n    }\n\n    get image () {\n        const { status, animOpacity, offset, width, height } = this.state;\n        const {\n            scrollPosition,\n            dimensions,\n            vertical,\n            sliderWidth,\n            sliderHeight,\n            parallaxFactor,\n            style,\n            AnimatedImageComponent,\n            ...other\n        } = this.props;\n\n        const parallaxPadding = (vertical ? height : width) * parallaxFactor;\n        const requiredStyles = { position: 'relative' };\n        const dynamicStyles = {\n            width: vertical ? width : width + parallaxPadding * 2,\n            height: vertical ? height + parallaxPadding * 2 : height,\n            opacity: animOpacity,\n            transform: scrollPosition ? [\n                {\n                    translateX: !vertical ? scrollPosition.interpolate({\n                        inputRange: [offset - sliderWidth, offset + sliderWidth],\n                        outputRange: [-parallaxPadding, parallaxPadding],\n                        extrapolate: 'clamp'\n                    }) : 0\n                },\n                {\n                    translateY: vertical ? scrollPosition.interpolate({\n                        inputRange: [offset - sliderHeight, offset + sliderHeight],\n                        outputRange: [-parallaxPadding, parallaxPadding],\n                        extrapolate: 'clamp'\n                    }) : 0\n                }\n            ] : []\n        };\n\n        return (\n            <AnimatedImageComponent\n              {...other}\n              style={[styles.image, style, requiredStyles, dynamicStyles]}\n              onLoad={this._onLoad}\n              onError={status !== 3 ? this._onError : undefined} // prevent infinite-loop bug\n            />\n        );\n    }\n\n    get spinner () {\n        const { status } = this.state;\n        const { showSpinner, spinnerColor } = this.props;\n\n        return status === 1 && showSpinner ? (\n            <View style={styles.loaderContainer}>\n                <ActivityIndicator\n                  size={'small'}\n                  color={spinnerColor}\n                  animating={true}\n                />\n            </View>\n        ) : false;\n    }\n\n    render () {\n        const { containerStyle } = this.props;\n\n        return (\n            <View\n              ref={(c) => { this._container = c; }}\n              pointerEvents={'none'}\n              style={[containerStyle, styles.container]}\n              onLayout={this._measureLayout}\n            >\n                { this.image }\n                { this.spinner }\n            </View>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"script"}