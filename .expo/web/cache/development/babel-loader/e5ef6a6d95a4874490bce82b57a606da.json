{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _Text = _interopRequireDefault(require(\"react-native-web/dist/exports/Text\"));\n\nvar _View = _interopRequireDefault(require(\"react-native-web/dist/exports/View\"));\n\nvar _StyleSheet = _interopRequireDefault(require(\"react-native-web/dist/exports/StyleSheet\"));\n\nvar _TextInput = _interopRequireDefault(require(\"react-native-web/dist/exports/TextInput\"));\n\nvar _TouchableOpacity = _interopRequireDefault(require(\"react-native-web/dist/exports/TouchableOpacity\"));\n\nvar _Image = _interopRequireDefault(require(\"react-native-web/dist/exports/Image\"));\n\nvar _KeyboardAvoidingView = _interopRequireDefault(require(\"react-native-web/dist/exports/KeyboardAvoidingView\"));\n\nvar _Keyboard = _interopRequireDefault(require(\"react-native-web/dist/exports/Keyboard\"));\n\nvar _FlatList = _interopRequireDefault(require(\"react-native-web/dist/exports/FlatList\"));\n\nvar _ScrollView = _interopRequireDefault(require(\"react-native-web/dist/exports/ScrollView\"));\n\nvar _reactNativeElements = require(\"react-native-elements\");\n\nvar _asyncStorage = _interopRequireDefault(require(\"@react-native-community/async-storage\"));\n\nvar _config = require(\"../firebase/config.js\");\n\nvar _ImagePick = _interopRequireDefault(require(\"../components/ImagePick\"));\n\nvar _InputField = _interopRequireDefault(require(\"../components/InputField\"));\n\nvar _AuthContext = require(\"../context/AuthContext\");\n\nvar _reactNativeKeyboardAwareScrollView = require(\"react-native-keyboard-aware-scroll-view\");\n\nvar _navigationRef = require(\"../navigationRef\");\n\nvar _ExperienceCard = _interopRequireDefault(require(\"../components/ExperienceCard\"));\n\nvar _FontAwesome = _interopRequireDefault(require(\"@expo/vector-icons/FontAwesome\"));\n\nvar _this = this,\n    _jsxFileName = \"/Users/rithikpothuganti/Telescope-app/Telescope/src/screens/EditExperienceScreen.js\";\n\nvar EditExp = function EditExp(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n\n  var _useState = (0, _react.useState)(navigation.getParam(\"expList\")),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      expList = _useState2[0],\n      setExpList = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(\"\"),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      newTitle = _useState4[0],\n      setTitle = _useState4[1];\n\n  var _useState5 = (0, _react.useState)(\"\"),\n      _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n      newDescription = _useState6[0],\n      setDescription = _useState6[1];\n\n  var _useState7 = (0, _react.useState)(false),\n      _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n      addExp = _useState8[0],\n      setAddExp = _useState8[1];\n\n  return _react.default.createElement(_View.default, {\n    style: {\n      backgroundColor: \"white\",\n      height: \"100%\",\n      width: \"100%\",\n      alignItems: \"center\"\n    },\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, _react.default.createElement(_View.default, {\n    style: styles.topBar,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_TouchableOpacity.default, {\n    onPress: function onPress() {\n      navigation.goBack(null);\n      console.log(\"going back\");\n    },\n    style: styles.backContainer,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_Text.default, {\n    style: styles.uploadText,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, \"Back\"))), _react.default.createElement(_reactNativeKeyboardAwareScrollView.KeyboardAwareScrollView, {\n    style: styles.container,\n    resetScrollToCoords: {\n      x: 0,\n      y: 0\n    },\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_View.default, {\n    style: {\n      width: \"100%\",\n      alignItems: \"center\",\n      marginTop: 20,\n      marginBottom: 20\n    },\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, !addExp && _react.default.createElement(_TouchableOpacity.default, {\n    onPress: function onPress() {\n      setAddExp(true);\n    },\n    style: styles.button,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 24\n    }\n  }, _react.default.createElement(_Text.default, {\n    style: styles.buttonStyle,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, \"Add\"))), addExp && _react.default.createElement(_View.default, {\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, _react.default.createElement(_InputField.default, {\n    name: \"Title\",\n    value: newTitle,\n    setValue: setTitle,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }), _react.default.createElement(_InputField.default, {\n    name: \"Description\",\n    value: newDescription,\n    setValue: setDescription,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  })), addExp && _react.default.createElement(_View.default, {\n    style: {\n      flexDirection: \"row\",\n      justifyContent: \"space-around\"\n    },\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_TouchableOpacity.default, {\n    onPress: function onPress() {\n      addNewExp(newTitle, newDescription, setExpList, expList).then(function () {\n        setTitle(\"\");\n        setDescription(\"\");\n      });\n      setAddExp(false);\n    },\n    style: styles.button,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, _react.default.createElement(_Text.default, {\n    style: styles.buttonStyle,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, \"Done\")), _react.default.createElement(_TouchableOpacity.default, {\n    onPress: function onPress() {\n      setAddExp(false);\n      setTitle(\"\");\n      setDescription(\"\");\n    },\n    style: styles.button,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, _react.default.createElement(_Text.default, {\n    style: styles.buttonStyle,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, \"Cancel\"))), _react.default.createElement(_ScrollView.default, {\n    style: {\n      height: \"100%\",\n      width: \"100%\"\n    },\n    showsVerticalScrollIndicator: false,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(_FlatList.default, {\n    data: expList,\n    keyExtractor: function keyExtractor(data) {\n      return data.id;\n    },\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item;\n      return renderExpView(item);\n    },\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }))), _react.default.createElement(_View.default, {\n    styles: {\n      alignContent: \"\",\n      width: \"100%\"\n    },\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_TouchableOpacity.default, {\n    onPress: function onPress() {\n      (0, _navigationRef.navigate)(\"EditAccount\");\n    },\n    style: styles.button,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_Text.default, {\n    style: styles.buttonStyle,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, \"Finish Editing\"))));\n};\n\nEditExp.navigationOptions = function () {\n  return {\n    header: function header() {\n      return false;\n    }\n  };\n};\n\nvar renderExpView = function renderExpView(data) {\n  return _react.default.createElement(_View.default, {\n    style: {\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      borderColor: \"#86878B\",\n      borderTopWidth: 1,\n      borderBottomWidth: 1\n    },\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 5\n    }\n  }, _react.default.createElement(_View.default, {\n    style: {\n      width: \"70%\",\n      margin: 20,\n      marginRight: \"9%\"\n    },\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_ExperienceCard.default, {\n    title: data.title,\n    description: data.description,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 5\n    }\n  })), _react.default.createElement(_TouchableOpacity.default, {\n    onPress: function onPress() {\n      deleteExp(data.id);\n    },\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 5\n    }\n  }, _react.default.createElement(_FontAwesome.default, {\n    name: \"trash\",\n    size: 30,\n    color: \"#5C33FF\",\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 5\n    }\n  })));\n};\n\nvar addNewExp = function addNewExp(newTitle, newDescription, setExpList, expList) {\n  var uid, expRef;\n  return _regenerator.default.async(function addNewExp$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          if (!(newTitle == \"\")) {\n            _context.next = 2;\n            break;\n          }\n\n          return _context.abrupt(\"return\");\n\n        case 2:\n          console.log('add exp test');\n          _context.next = 5;\n          return _regenerator.default.awrap(_asyncStorage.default.getItem(\"token\"));\n\n        case 5:\n          uid = _context.sent;\n          expRef = _config.firebase.firestore().collection(\"users\").doc(uid).collection(\"experiences\");\n          expRef.add({\n            title: newTitle,\n            description: newDescription\n          }).then(function (docRef) {\n            console.log('exp id is ' + docRef.id);\n            var data_ = {\n              title: newTitle,\n              description: newDescription\n            };\n            data_[\"id\"] = docRef.id;\n            setExpList([data_].concat((0, _toConsumableArray2.default)(expList)));\n          }).catch(function (error) {\n            console.error(\"Error adding document: \", error);\n          });\n\n        case 8:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nvar deleteExp = function deleteExp(expId, setExpList, expList) {\n  var uid, expRef, expList_;\n  return _regenerator.default.async(function deleteExp$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return _regenerator.default.awrap(_asyncStorage.default.getItem(\"token\"));\n\n        case 2:\n          uid = _context2.sent;\n          expRef = _config.firebase.firestore().collection(\"users\").doc(uid).collection(\"experiences\");\n          expList_ = [];\n          expRef.doc(expId).delete().then(function () {\n            console.log(\"deleted\" + expId);\n          }).catch(function (error) {\n            console.error(\"Error removing document: \", error);\n          });\n\n        case 6:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nvar styles = _StyleSheet.default.create({\n  container: {\n    marginTop: 60,\n    width: \"100%\"\n  },\n  textInput: {\n    marginTop: 100,\n    color: \"black\"\n  },\n  buttonStyle: {\n    color: \"white\",\n    fontFamily: \"Raleway-SemiBold\",\n    fontSize: 18\n  },\n  button: {\n    width: 150,\n    backgroundColor: \"#5C33FF\",\n    padding: 16,\n    borderRadius: 25,\n    marginTop: 16,\n    alignItems: \"center\"\n  },\n  backContainer: {\n    padding: 8,\n    marginLeft: 8\n  },\n  uploadText: {\n    color: \"#5C33FF\",\n    fontFamily: \"Raleway-Bold\",\n    fontSize: 18\n  },\n  topBar: {\n    position: \"absolute\",\n    top: 0,\n    paddingTop: 45,\n    backgroundColor: \"white\",\n    left: 0,\n    width: \"100%\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    zIndex: 2\n  },\n  input: {\n    fontSize: 15,\n    fontFamily: \"Raleway-Regular\",\n    padding: 16\n  },\n  inputContainer: {\n    backgroundColor: \"rgba(255, 215, 112, 0.7)\",\n    width: \"80%\",\n    borderRadius: 12,\n    marginTop: 32\n  },\n  buttonStyleSmall: {\n    color: \"white\",\n    fontFamily: \"Raleway-SemiBold\",\n    fontSize: 12\n  },\n  buttonSmall: {\n    width: 75,\n    backgroundColor: \"#5C33FF\",\n    padding: 5,\n    borderRadius: 15,\n    marginRight: 16,\n    marginLeft: 0,\n    alignItems: \"center\"\n  }\n});\n\nvar _default = EditExp;\nexports.default = _default;","map":{"version":3,"sources":["/Users/rithikpothuganti/Telescope-app/Telescope/src/screens/EditExperienceScreen.js"],"names":["EditExp","route","navigation","getParam","expList","setExpList","newTitle","setTitle","newDescription","setDescription","addExp","setAddExp","backgroundColor","height","width","alignItems","styles","topBar","goBack","console","log","backContainer","uploadText","container","x","y","marginTop","marginBottom","button","buttonStyle","flexDirection","justifyContent","addNewExp","then","data","id","item","renderExpView","alignContent","navigationOptions","header","borderColor","borderTopWidth","borderBottomWidth","margin","marginRight","title","description","deleteExp","AsyncStorage","getItem","uid","expRef","firebase","firestore","collection","doc","add","docRef","data_","catch","error","expId","expList_","delete","StyleSheet","create","textInput","color","fontFamily","fontSize","padding","borderRadius","marginLeft","position","top","paddingTop","left","zIndex","input","inputContainer","buttonStyleSmall","buttonSmall"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport {\n  Text,\n  View,\n  StyleSheet,\n  TextInput,\n  TouchableOpacity,\n  Image,\n  KeyboardAvoidingView,\n  Keyboard,\n  FlatList,\n  ScrollView\n} from \"react-native\";\nimport { Button, Input } from \"react-native-elements\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport { firebase } from \"../firebase/config.js\";\nimport ImagePick from \"../components/ImagePick\";\nimport InputField from \"../components/InputField\";\nimport { Context as AuthContext } from \"../context/AuthContext\";\nimport { KeyboardAwareScrollView } from \"react-native-keyboard-aware-scroll-view\";\nimport { navigate } from \"../navigationRef\";\nimport ExperienceCard from \"../components/ExperienceCard\";\nimport Icon from \"react-native-vector-icons/FontAwesome\";\n\nconst EditExp = ({ route, navigation }) => {\n  const [expList, setExpList] = useState(navigation.getParam(\"expList\"));\n  const [newTitle, setTitle] = useState(\"\");\n  const [newDescription, setDescription] = useState(\"\");\n  const [addExp, setAddExp] = useState(false);\n\n  return (\n    <View\n      style={{\n        backgroundColor: \"white\",\n        height: \"100%\",\n        width: \"100%\",\n        alignItems: \"center\",\n      }}\n    >\n      <View style={styles.topBar}>\n        <TouchableOpacity\n          // style={{ zIndex: 2 }}\n          onPress={() => {\n            navigation.goBack(null);\n            console.log(\"going back\");\n          }}\n          style={styles.backContainer}\n        >\n          <Text style={styles.uploadText}>Back</Text>\n        </TouchableOpacity>\n      </View>\n      <KeyboardAwareScrollView\n        style={styles.container}\n        resetScrollToCoords={{ x: 0, y: 0 }}\n      >\n        <View\n          style={{width: \"100%\",\n          alignItems: \"center\",\n          marginTop: 20,\n          marginBottom: 20\n        }}\n        >\n          {!addExp && (<TouchableOpacity\n            onPress={() => {\n              setAddExp(true);\n            }}\n            style={styles.button}\n          >\n            <Text style={styles.buttonStyle}>Add</Text>\n          </TouchableOpacity>)}\n        </View>\n\n        {addExp && (<View\n        >\n          <InputField name=\"Title\" value={newTitle} setValue={setTitle} />\n          <InputField name=\"Description\" value={newDescription} setValue={setDescription} />\n        </View>)}\n\n        {addExp && (\n        <View\n            style={{\n              flexDirection: \"row\",\n          justifyContent: \"space-around\"}}\n          >\n            <TouchableOpacity\n              onPress={() => {\n                addNewExp(newTitle, newDescription, setExpList, expList).then(() => {\n                  setTitle(\"\");\n                  setDescription(\"\");\n                });\n                setAddExp(false);\n              }}\n              style={styles.button}\n            >\n              <Text style={styles.buttonStyle}>Done</Text>\n            </TouchableOpacity>\n            <TouchableOpacity\n              onPress={() => {\n                setAddExp(false);\n                setTitle(\"\");\n                setDescription(\"\");\n              }}\n              style={styles.button}\n            >\n              <Text style={styles.buttonStyle}>Cancel</Text>\n            </TouchableOpacity>\n          </View>)}\n          <ScrollView\n            style={{ height: \"100%\", width: \"100%\" }}\n            showsVerticalScrollIndicator={false}\n          >\n            <FlatList\n              data={expList}\n              keyExtractor={(data) => data.id}\n              renderItem={({ item }) => {\n                return renderExpView(item);\n              }}\n            />\n          </ScrollView>\n      </KeyboardAwareScrollView>\n      <View styles={{ alignContent: \"\", width: \"100%\" }}>\n        <TouchableOpacity\n          onPress={() => {\n            // editInfo(name, bio, youtube, tiktok, instagram)\n            //   .then(() => {\n                navigate(\"EditAccount\");\n              // });\n          }}\n          style={styles.button}\n        >\n          <Text style={styles.buttonStyle}>Finish Editing</Text>\n        </TouchableOpacity>\n      </View>\n    </View>\n  );\n};\n\n\nEditExp.navigationOptions = () => {\n  return {\n    header: () => false,\n  };\n};\n\nconst renderExpView = (data) => {\n  return (\n    <View\n      style={{\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      borderColor: \"#86878B\",\n      borderTopWidth: 1,\n      borderBottomWidth: 1}}\n    >\n      <View\n      style={{width: \"70%\",\n              margin: 20,\n              marginRight: \"9%\",\n            }}\n      >\n    <ExperienceCard\n      title={data.title}\n      description={data.description}\n    />\n    </View>\n    <TouchableOpacity\n      onPress={() => {\n        deleteExp(data.id);\n      }}\n    >\n    <Icon\n      name={\"trash\"}\n      size={30}\n      color={\"#5C33FF\"}\n    />\n    </TouchableOpacity>\n    </View>\n  );\n};\n\nconst addNewExp = async (newTitle, newDescription, setExpList, expList) => {\n  if(newTitle == \"\") {\n    return;\n  }\n  console.log('add exp test');\n  const uid = await AsyncStorage.getItem(\"token\");\n  const expRef = firebase.firestore().collection(\"users\").doc(uid).collection(\"experiences\");\n  expRef.add({\n    title: newTitle,\n    description: newDescription\n  })\n  .then((docRef) => {\n    console.log('exp id is ' + docRef.id);\n    let data_ = {\n      title: newTitle,\n      description: newDescription\n    };\n    data_[\"id\"] = docRef.id;\n    setExpList([data_, ...expList]);\n  })\n  .catch((error) => {\n    console.error(\"Error adding document: \", error);\n  });\n}\n\nconst deleteExp = async (expId, setExpList, expList) => {\n  const uid = await AsyncStorage.getItem(\"token\");\n  const expRef = firebase.firestore().collection(\"users\").doc(uid).collection(\"experiences\");\n  let expList_ = [];\n  expRef.doc(expId).delete().then(() => {\n    console.log(\"deleted\" + expId);\n  })\n  .catch((error) => {\n    console.error(\"Error removing document: \", error);\n  });\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    marginTop: 60,\n    width: \"100%\",\n    // height: \"100%\"\n    // backgroundColor: \"white\",\n    // alignItems: \"center\",\n    // width: \"100%\"\n  },\n  textInput: {\n    marginTop: 100,\n    color: \"black\",\n  },\n  buttonStyle: {\n    color: \"white\",\n    fontFamily: \"Raleway-SemiBold\",\n    fontSize: 18,\n  },\n  button: {\n    width: 150,\n    backgroundColor: \"#5C33FF\",\n    padding: 16,\n    borderRadius: 25,\n    marginTop: 16,\n    alignItems: \"center\",\n  },\n  backContainer: {\n    padding: 8,\n    marginLeft: 8,\n    // backgroundColor: \"orange\"\n  },\n  uploadText: {\n    color: \"#5C33FF\",\n    fontFamily: \"Raleway-Bold\",\n    fontSize: 18,\n  },\n  topBar: {\n    position: \"absolute\",\n    top: 0,\n    paddingTop: 45,\n    backgroundColor: \"white\",\n    left: 0,\n    width: \"100%\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    zIndex: 2\n  },\n  input: {\n    fontSize: 15,\n    fontFamily: \"Raleway-Regular\",\n    padding: 16,\n  },\n  inputContainer: {\n    backgroundColor: \"rgba(255, 215, 112, 0.7)\",\n    width: \"80%\",\n    borderRadius: 12,\n    marginTop: 32,\n  },\n  buttonStyleSmall: {\n    color: \"white\",\n    fontFamily: \"Raleway-SemiBold\",\n    fontSize: 12,\n  },\n  buttonSmall: {\n    width: 75,\n    backgroundColor: \"#5C33FF\",\n    padding: 5,\n    borderRadius: 15,\n    marginRight: 16,\n    marginLeft: 0,\n    alignItems: \"center\",\n  }\n});\n\nexport default EditExp;\n"]},"metadata":{},"sourceType":"script"}